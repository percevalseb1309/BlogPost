{% extends 'template.twig' %}

{% block title %}
    {% set title = "Blog professionnel" %}
    {{ title }}
{% endblock %}

{% block content %}
    <h1>Mon blog !</h1>
    <p>Derniers billets du blog :</p>
    {% for post in posts %}
        <article class="news">
            <h3>
                {{ post.title }}<br>
                Par {{ post.author }} - 
                <em>dernière modification {{ post.last_update }}</em>
            </h3>
                
            <p>
                <strong>{{ post.lead_paragraph }}</strong>
                <br>
                <em><a href="index.php?action=post&amp;id={{ post.id }}">Voir le billet</a></em>
            </p>
        </article>
    {% endfor %}

    <form action="index.php?action=newPost" method="post">
        <h2>Ajouter un billet</h2>
        <div>
            <label for="author">Auteur</label><br />
            <input type="text" id="author" name="author" />
        </div>      
        <div>
            <label for="title">Titre</label><br />
            <input type="text" id="title" name="title" />
        </div>
        <div>
            <label for="lead_paragraph">Chapô</label><br />
            <textarea id="lead_paragraph" name="lead_paragraph"></textarea>
        </div>      
        <div>
            <label for="content">Contenu</label><br />
            <textarea id="content" name="content"></textarea>
        </div>
        <div>
            <input type="submit" />
        </div>
    </form>
{% endblock %}